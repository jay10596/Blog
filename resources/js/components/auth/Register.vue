<template>
    <div class="mx-auto h-full flex justify-center items-center bg-gray-200">
        <div class="bg-blue-900 w-96 rounded-lg shadow-xl p-6">
            <svg class="fill-current h-16 w-16 text-gray-100" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                viewBox="0 0 465 465" style="enable-background:new 0 0 465 465;" xml:space="preserve">
                <path d="M457.5,15H7.5C3.357,15,0,18.358,0,22.5v420c0,4.142,3.357,7.5,7.5,7.5h450c4.143,0,7.5-3.358,7.5-7.5v-420
                    C465,18.358,461.643,15,457.5,15z M450,65h-35V30h35V65z M400,30v35H15V30H400z M15,435V80h435v355H15z"/>
                <path d="M397.5,220h-330c-4.143,0-7.5,3.358-7.5,7.5s3.357,7.5,7.5,7.5h330c4.143,0,7.5-3.358,7.5-7.5S401.643,220,397.5,220z"/>
                <path d="M212.5,260h-145c-4.143,0-7.5,3.358-7.5,7.5s3.357,7.5,7.5,7.5h145c4.143,0,7.5-3.358,7.5-7.5S216.643,260,212.5,260z"/>
                <path d="M212.5,300h-145c-4.143,0-7.5,3.358-7.5,7.5s3.357,7.5,7.5,7.5h145c4.143,0,7.5-3.358,7.5-7.5S216.643,300,212.5,300z"/>
                <path d="M212.5,340h-145c-4.143,0-7.5,3.358-7.5,7.5s3.357,7.5,7.5,7.5h145c4.143,0,7.5-3.358,7.5-7.5S216.643,340,212.5,340z"/>
                <path d="M397.5,260h-145c-4.143,0-7.5,3.358-7.5,7.5v30c0,4.142,3.357,7.5,7.5,7.5s7.5-3.358,7.5-7.5V275h130v105H260v-52.5
                    c0-4.142-3.357-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v60c0,4.142,3.357,7.5,7.5,7.5h145c4.143,0,7.5-3.358,7.5-7.5v-120
                    C405,263.358,401.643,260,397.5,260z"/>
                <path d="M212.5,380h-145c-4.143,0-7.5,3.358-7.5,7.5s3.357,7.5,7.5,7.5h145c4.143,0,7.5-3.358,7.5-7.5S216.643,380,212.5,380z"/>
                <path d="M336.641,160.31c5.052,2.658,11.048,3.639,16.848,4.587c13.05,2.134,14.905,3.538,14.905,7.598
                    c0,5.925-8.605,7.506-13.69,7.506c-6.801,0-12.175-2.222-13.371-5.53c-1.41-3.896-5.715-5.91-9.604-4.5
                    c-3.896,1.409-5.91,5.709-4.501,9.604C330.67,189.089,341.198,195,354.703,195c16.893,0,28.69-9.255,28.69-22.506
                    c0-7.992-3.676-14.151-10.631-17.812c-5.053-2.659-11.052-3.641-16.853-4.589c-13.043-2.133-14.897-3.534-14.897-7.587
                    c0-5.925,8.605-7.506,13.69-7.506c6.8,0,12.173,2.222,13.372,5.528c1.411,3.893,5.709,5.91,9.606,4.495
                    c3.895-1.412,5.907-5.713,4.495-9.607C378.729,125.907,368.202,120,354.703,120c-16.893,0-28.69,9.255-28.69,22.506
                    C326.013,150.495,329.688,156.651,336.641,160.31z"/>
                <path d="M250.633,189.342c0.769,3.031,3.336,5.268,6.444,5.612c3.097,0.35,6.104-1.274,7.517-4.064l8.513-16.799l8.513,16.799
                    c1.288,2.54,3.887,4.11,6.688,4.11c0.275,0,0.552-0.015,0.829-0.046c3.108-0.344,5.676-2.581,6.444-5.612l15.203-60
                    c1.018-4.015-1.413-8.095-5.429-9.112c-4.014-1.017-8.094,1.412-9.112,5.428l-10.288,40.603l-6.157-12.151
                    c-1.278-2.521-3.864-4.11-6.69-4.11s-5.412,1.589-6.69,4.11l-6.157,12.151l-10.288-40.603c-1.018-4.016-5.099-6.442-9.112-5.428
                    c-4.016,1.017-6.446,5.097-5.429,9.112L250.633,189.342z"/>
                <path d="M170.319,195H212.7c4.143,0,7.5-3.358,7.5-7.5s-3.357-7.5-7.5-7.5h-34.881v-15h20.754c4.143,0,7.5-3.358,7.5-7.5
                    s-3.357-7.5-7.5-7.5h-20.754v-15H212.7c4.143,0,7.5-3.358,7.5-7.5s-3.357-7.5-7.5-7.5h-42.381c-4.143,0-7.5,3.358-7.5,7.5v60
                    C162.819,191.642,166.177,195,170.319,195z"/>
                <path d="M89.106,195c4.143,0,7.5-3.358,7.5-7.5v-39.661l38.009,44.53c1.453,1.703,3.553,2.631,5.706,2.631
                    c0.868,0,1.746-0.151,2.593-0.464c2.947-1.086,4.905-3.895,4.905-7.037v-60c0-4.142-3.357-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v39.661
                    l-38.009-44.53c-2.039-2.389-5.353-3.255-8.299-2.167c-2.947,1.086-4.905,3.895-4.905,7.037v60
                    C81.606,191.642,84.964,195,89.106,195z"/>
            </svg>

            <h1 class="text-3xl pt-6 text-gray-100">Welcome Back</h1>
            <h2 class="text-base text-blue-200">Enter your details below!</h2>

            <form class="mt-8" @submit.prevent="register">

                <div class="reletive">
                    <label for="name" class="uppercase text-blue-400 text-xs font-bold absolute p-1">Name</label>

                    <div class="col-md-6">
                        <input v-model="registerForm.name" class="pt-8 w-full rounded bg-blue-800 p-1 text-gray-100 outline-none focus:bg-blue-700" type="text" placeholder="Register your name">

                        <span v-if="errors.name" class="text-gray-100 pt-1 text-sm" role="alert">
                            {{errors.name[0]}}
                        </span>
                    </div>
                </div>

                <div class="pt-3">
                    <label for="birthday" class="uppercase text-blue-400 text-xs font-bold absolute p-1">Birthday</label>

                    <div class="">
                        <input v-model="registerForm.birthday" class="pt-8 w-full rounded bg-blue-800 p-1 text-gray-100 outline-none focus:bg-blue-700" type="text" placeholder="mm/dd/yyyy">

                        <span v-if="errors.birthday" class="text-gray-100 pt-1 text-sm" role="alert">
                            {{errors.birthday[0]}}
                        </span>
                    </div>
                </div>

                <div class="pt-3">
                    <label for="email" class="uppercase text-blue-400 text-xs font-bold absolute p-1">E-mail</label>

                    <div class="">
                        <input v-model="registerForm.email" class="pt-8 w-full rounded bg-blue-800 p-1 text-gray-100 outline-none focus:bg-blue-700" type="email" placeholder="Register your email">

                        <span v-if="errors.email" class="text-gray-100 pt-1 text-sm" role="alert">
                            {{errors.email[0]}}
                        </span>
                    </div>
                </div>

                <div class="pt-3">
                    <label for="password" class="uppercase text-blue-400 text-xs font-bold absolute p-1">Password</label>

                    <div class="">
                        <input v-model="registerForm.password" class="pt-8 w-full rounded bg-blue-800 p-1 text-gray-100 outline-none focus:bg-blue-700" type="password" placeholder="Enter your password">

                        <span v-if="errors.password" class="text-gray-100 pt-1 text-sm" role="alert">
                            {{errors.password[0]}}
                        </span>
                    </div>
                </div>

                <div class="pt-3">
                    <label for="password_confirmation" class="uppercase text-blue-400 text-xs font-bold absolute p-1">Password</label>

                    <div class="">
                        <input v-model="registerForm.password_confirmation" class="pt-8 w-full rounded bg-blue-800 p-1 text-gray-100 outline-none focus:bg-blue-700" type="password" placeholder="Confirm your password">
                    </div>
                </div>

                <div class="">
                    <button type="submit" class="mt-8 uppercase rounded-lg bg-gray-100 text-blue-800 font-bold w-full h-8 px-2 text-left">
                        Register
                    </button>
                </div>
            </form>
        </div>
    </div>
</template>

<script>
    export default {
        name: "Register",

        data() {
            return {
                registerForm: {
                    name: null,
                    birthday: null,
                    email: null,
                    password: null,
                    password_confirmation: null
                },
                errors: {}
            }
        },

        methods: {
            register() {
                 axios.post('/api/auth/signup', this.registerForm)
                    .then(res => User.responseAfterLogin(res))
                    .catch(error => this.errors = error.response.data.errors)
            }

        }
    }
</script>

<style>

</style>
